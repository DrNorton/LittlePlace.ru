ReferenceError: self is not defined
    at InsertLogin (C:\Users\WinPhone\Documents\My Web Sites\LittlePlace.ru\managers\authManager.js:69:20)
    at AuthManager.register (C:\Users\WinPhone\Documents\My Web Sites\LittlePlace.ru\managers\authManager.js:45:9)
    at AuthRouter._doRoute (C:\Users\WinPhone\Documents\My Web Sites\LittlePlace.ru\routers\auth_router.js:28:30)
    at BaseRouter.route (C:\Users\WinPhone\Documents\My Web Sites\LittlePlace.ru\routers\base_router.js:8:7)
    at Object.handle (C:\Users\WinPhone\Documents\My Web Sites\LittlePlace.ru\server.js:24:18)
    at next_layer (C:\Users\WinPhone\Documents\My Web Sites\LittlePlace.ru\node_modules\express\lib\router\route.js:103:13)
    at Route.dispatch (C:\Users\WinPhone\Documents\My Web Sites\LittlePlace.ru\node_modules\express\lib\router\route.js:107:5)
    at proto.handle.c (C:\Users\WinPhone\Documents\My Web Sites\LittlePlace.ru\node_modules\express\lib\router\index.js:213:24)
    at param (C:\Users\WinPhone\Documents\My Web Sites\LittlePlace.ru\node_modules\express\lib\router\index.js:303:14)
    at param (C:\Users\WinPhone\Documents\My Web Sites\LittlePlace.ru\node_modules\express\lib\router\index.js:319:14)
Application has thrown an uncaught exception and is terminated:
Error: Can't set headers after they are sent.
    at ServerResponse.OutgoingMessage.setHeader (http.js:660:11)
    at ServerResponse.res.setHeader (C:\Users\WinPhone\Documents\My Web Sites\LittlePlace.ru\node_modules\connect\lib\patch.js:129:22)
    at ServerResponse.res.set.res.header (C:\Users\WinPhone\Documents\My Web Sites\LittlePlace.ru\node_modules\express\lib\response.js:565:10)
    at ServerResponse.res.send (C:\Users\WinPhone\Documents\My Web Sites\LittlePlace.ru\node_modules\express\lib\response.js:134:12)
    at ServerResponse.res.json (C:\Users\WinPhone\Documents\My Web Sites\LittlePlace.ru\node_modules\express\lib\response.js:212:15)
    at Response.sendError (C:\Users\WinPhone\Documents\My Web Sites\LittlePlace.ru\routers\response.js:12:20)
    at AuthRouter._doRoute (C:\Users\WinPhone\Documents\My Web Sites\LittlePlace.ru\routers\auth_router.js:31:27)
    at C:\Users\WinPhone\Documents\My Web Sites\LittlePlace.ru\managers\authManager.js:64:9
    at SqlManager.invoke (C:\Users\WinPhone\Documents\My Web Sites\LittlePlace.ru\managers\sqlManager.js:11:13)
    at Connection.connect (C:\Users\WinPhone\Documents\My Web Sites\LittlePlace.ru\node_modules\mssql\lib\main.js:236:51)
